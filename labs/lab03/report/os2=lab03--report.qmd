---
# Preamble

## Author
author:
  name: Баранов Никита Дмитриевич
## Title
title: "Отчёт о лабораторной работе"
subtitle: "Лабораторная работа 3"
license: "CC BY"
## Generic options
lang: ru-RU
number-sections: true
toc: true
toc-title: "Содержание"
toc-depth: 2
## Crossref customization
crossref:
  lof-title: "Список иллюстраций"
  lot-title: "Список таблиц"
  lol-title: "Листинги"
## Bibliography
bibliography:
  - bib/cite.bib
csl: _resources/csl/gost-r-7-0-5-2008-numeric.csl
## Formats
format:
### Pdf output format
  pdf:
    toc: true
    number-sections: true
    colorlinks: false
    toc-depth: 2
    lof: true # List of figures
    lot: true # List of tables
#### Document
    documentclass: scrreprt
    papersize: a4
    fontsize: 12pt
    linestretch: 1.5
#### Language
    babel-lang: russian
    babel-otherlangs: english
#### Biblatex
    cite-method: biblatex
    biblio-style: gost-numeric
    biblatexoptions:
      - backend=biber
      - langhook=extras
      - autolang=other*
#### Misc options
    csquotes: true
    indent: true
    header-includes: |
      \usepackage{indentfirst}
      \usepackage{float}
      \floatplacement{figure}{H}
### Docx output format
  docx:
    toc: true
    number-sections: true
    toc-depth: 2
---

# Цель работы

Получение навыков настройки базовых и специальных прав доступа для групп пользователей в операционной системе типа Linux.

# Задание

Выполнить задания, прописанные в файле.

# Выполнение лабораторной работы

Откройте терминал с учётной записью root.В корневом каталоге создайте каталоги /data/main и /data/third.Посмотрите, кто является владельцем этих каталогов. Прежде чем устанавливать разрешения, измените владельцев этих каталогов с root на main и third соответственно.Посмотрите, кто теперь является владельцем этих каталогов.Установите разрешения, позволяющие владельцам каталогов записывать файлы в эти каталоги и запрещающие доступ к содержимому каталогов всем другим пользователям и группам.Проверьте установленные права доступа (рис. [-@fig:001]).

![Выполняем все перечисленные действия](image/1.png){#fig:001 width=70%}

В другом терминале перейдите под учётную запись пользователя bob. Под пользователем bob попробуйте перейти в каталог /data/main и создать файл emptyfile в этом каталоге. Под пользователем bob попробуйте перейти в каталог /data/third и создать файл emptyfile в этом каталоге(рис. [-@fig:002]).

![Выполняем все перечисленные действия](image/2.png){#fig:002 width=70%}

Пользователь bob успешно перешёл в каталог /data/main и создал там файл emptyfile, так как он является членом группы main (которая указана в выводе команды id bob: groups=1003(bob),1004(main)). Каталог /data/main имеет права доступа 770 для владельца (root) и группы main, что позволяет участникам группы main читать, писать и исполнять каталог. Поэтому bob, как член группы main, имеет полные права на запись в этот каталог.

Пользователь bob не смог перейти в каталог /data/third или создать в нём файл, так как он не является членом группы third. Каталог /data/third имеет права доступа 770, что разрешает доступ только владельцу (root) и группе third. Bob не входит в группу third (его группы: bob и main), поэтому ему запрещён любой доступ к каталогу, что приводит к ошибке "Permission denied" при попытке выполнения команд cd или touch.

Откройте новый терминал под пользователем alice. Перейдите в каталог /data/main.Создайте два файла, владельцем которых является alice(рис. [-@fig:003]).

![Создаем файлы alice1,2](image/3.png){#fig:003 width=70%}

. В другом терминале перейдите под учётную запись пользователя bob.Перейдите в каталог /data/main. И в этом каталоге введите ls -l.Попробуйте удалить файлы,
принадлежащие пользователю alice.Создайте два файла, которые принадлежат пользователю bob (рис. [-@fig:004]).

![Выполняем все перечисленные действия](image/4.png){#fig:004 width=70%}

В терминале под пользователем root установите для каталога /data/main бит идентификатора группы, а также stiky-бит для разделяемого (общего) каталога группы

![Устанавливаем бит идентификатора группы](image/10.png){#fig:010 width=70%}

В терминале под пользователем alice создайте в каталоге /data/main файлы alice3
и alice4.В терминале под пользователем alice попробуйте удалить файлы, принадлежащие
пользователю bob (рис. [-@fig:005]).

![Создаем файлы и пытаемся удалить файлы боба](image/5.png){#fig:005 width=70%}

Откройте терминал с учётной записью root.Установите права на чтение и выполнение в каталоге /data/main для группы third и права на чтение и выполнение для группы main в каталоге /data/third.Используйте команду getfacl, чтобы убедиться в правильности установки разрешений.Создайте новый файл с именем newfile1 в каталоге /data/main Используйте getfacl для проверки текущих назначений полномочий.Выполните аналогичные действия для каталога /data/third.Установите ACL по умолчанию для каталога /data/main.Добавьте ACL по умолчанию для каталога /data/third.Убедитесь, что настройки ACL работают, добавив новый файл в каталог /data/main.Используйте getfacl для проверки текущих назначений полномочий.Выполните аналогичные действия для каталога /data/third(рис. [-@fig:006])(рис. [-@fig:007]).

![Выполняем все действия](image/6.png){#fig:006 width=70%}

![Выполняем все действия](image/7.png){#fig:007 width=70%}

Для проверки полномочий группы third в каталоге /data/third войдите в другом терминале под учётной записью члена группы third.Проверьте операции с файлами .Проверьте, возможно ли осуществить запись в файл(рис. [-@fig:008])(рис. [-@fig:009]).

![Заходим под carol и проверяем операции с файлами](image/8.png){#fig:008 width=70%}

![Мы смогли записать изменения в файл](image/9.png){#fig:009 width=70%}

# Выводы

Мы получили навыки настройки базовых и специальных прав доступа для групп пользователей в операционной системе типа Linux.
