---
# Preamble

## Author
author:
  name: Баранов Никита Дмитриевич
## Title
title: "Отчёт о лабораторной работы"
subtitle: "Лабораторная работа 14. Партиции, файловые системы,монтирование"
license: "CC BY"
## Generic options
lang: ru-RU
number-sections: true
toc: true
toc-title: "Содержание"
toc-depth: 2
## Crossref customization
crossref:
  lof-title: "Список иллюстраций"
  lot-title: "Список таблиц"
  lol-title: "Листинги"
## Bibliography
bibliography:
  - bib/cite.bib
csl: _resources/csl/gost-r-7-0-5-2008-numeric.csl
## Formats
format:
### Pdf output format
  pdf:
    toc: true
    number-sections: true
    colorlinks: false
    toc-depth: 2
    lof: true # List of figures
    lot: true # List of tables
#### Document
    documentclass: scrreprt
    papersize: a4
    fontsize: 12pt
    linestretch: 1.5
#### Language
    babel-lang: russian
    babel-otherlangs: english
#### Biblatex
    cite-method: biblatex
    biblio-style: gost-numeric
    biblatexoptions:
      - backend=biber
      - langhook=extras
      - autolang=other*
#### Misc options
    csquotes: true
    indent: true
    header-includes: |
      \usepackage{indentfirst}
      \usepackage{float}
      \floatplacement{figure}{H}
### Docx output format
  docx:
    toc: true
    number-sections: true
    toc-depth: 2
---

# Цель работы

Получить навыки создания разделов на диске и файловых систем. Получить навыки
монтирования файловых систем.

# Задание

1. Добавьте два диска на виртуальной машине (раздел 14.4.1).
2. Продемонстрируйте навыки создания разделов MBR с помощью fdisk (раздел 14.4.2).
3. Продемонстрируйте навыки создания логических разделов с помощью fdisk (раздел 14.4.3).
4. Продемонстрируйте навыки создания раздела подкачки с помощью fdisk (раздел 14.4.4).
5. Продемонстрируйте навыки создания разделов GPT с помощью gdisk (раздел 14.4.5).
6. Продемонстрируйте навыки форматирования файловой системы XFS (раздел 14.4.6).
7. Продемонстрируйте навыки форматирования файловой системы EXT4 (раздел 14.4.7).
8. Продемонстрируйте навыки ручного монтирования файловых систем (раздел 14.4.8).
9. Продемонстрируйте навыки монтирования файловых систем с помощью /etc/fstab
(раздел 14.4.9).
10. Выполните задание для самостоятельной работы (раздел 14.5).

# Выполнение лабораторной работы

## Создание виртуальных носителей

Добавляем два виртуальных диска размером 512 МБ к виртуальной машине (рис. [-@fig:001]).

![Конфигурация виртуальных носителей](image/1.png){#fig:001 width=70%}

**Добавленные диски:**
- SATA порт 1: disk1.vdi (512,00 МБ)
- SATA порт 2: disk2.vdi (512,00 МБ)

## Работа с разделами MBR через fdisk

Просматриваем информацию о дисках системы (рис. [-@fig:002]).

![Информация о дисках системы](image/2.png){#fig:002 width=70%}

**Обнаруженные диски:**
- /dev/sda: 40 ГБ (основной диск системы)
- /dev/sdb: 512 МБ (добавленный диск 1)
- /dev/sdc: 512 МБ (добавленный диск 2)

Запускаем fdisk для работы с диском /dev/sdb (рис. [-@fig:002]).

![Запуск fdisk для /dev/sdb](image/2.png){#fig:002 width=70%}

Изучаем доступные команды fdisk (рис. [-@fig:003]).

![Справка по командам fdisk](image/3.png){#fig:003 width=70%}

Создаем основной раздел размером 100 МБ (рис. [-@fig:004]).

![Создание основного раздела](image/4.png){#fig:004 width=70%}

**Выполненные действия:**
- Выбор типа раздела: primary (p)
- Номер раздела: 1 (по умолчанию)
- Первый сектор: 2048 (по умолчанию)
- Последний сектор: +100M (размер 100 МБ)

Просматриваем доступные типы разделов (рис. [-@fig:004]).

![Доступные типы разделов](image/4.png){#fig:004 width=70%}

Устанавливаем тип раздела Linux (83) и записываем изменения (рис. [-@fig:005]).

![Установка типа раздела и запись изменений](image/5.png){#fig:005 width=70%}

Проверяем созданный раздел (рис. [-@fig:005]).

![Проверка созданного раздела](image/5.png){#fig:005 width=70%}

**Разница между выводами команд:**
- `fdisk -l /dev/sdb` показывает таблицу разделов диска
- `cat /proc/partitions` показывает разделы, известные ядру системы

Обновляем таблицу разделов ядра (рис. [-@fig:005]).

![Обновление таблицы разделов](image/5.png){#fig:005 width=70%}

## Создание логических разделов

Создаем расширенный раздел и логический раздел (рис. [-@fig:006]).

![Создание расширенного и логического разделов](image/6.png){#fig:006 width=70%}

**Выполненные действия:**
- Создание расширенного раздела (e) на все оставшееся пространство
- Создание логического раздела (5) размером 101 МБ

Проверяем созданные разделы (рис. [-@fig:006]).

![Проверка логических разделов](image/6.png){#fig:006 width=70%}

## Создание раздела подкачки

Создаем раздел подкачки размером 100 МБ (рис. [-@fig:007]).

![Создание раздела подкачки](image/7.png){#fig:007 width=70%}

**Выполненные действия:**
- Создание логического раздела 6 размером 100 МБ
- Изменение типа раздела на Linux swap (82)

Форматируем и активируем раздел подкачки (рис. [-@fig:008]).

![Форматирование и активация swap](image/8.png){#fig:008 width=70%}

Проверяем состояние swap-памяти (рис. [-@fig:008]).

![Проверка состояния swap](image/8.png){#fig:008 width=70%}

## Работа с разделами GPT через gdisk

Просматриваем информацию о диске /dev/sdc (рис. [-@fig:009]).

![Информация о диске GPT](image/9.png){#fig:009 width=70%}

Создаем раздел GPT размером 100 МБ (рис. [-@fig:009]).

![Создание раздела GPT](image/9.png){#fig:009 width=70%}

Записываем изменения и проверяем результат (рис. [-@fig:010]).

![Запись изменений GPT](image/10.png){#fig:010 width=70%}

## Форматирование файловых систем

Форматируем раздел /dev/sdb1 в XFS (рис. [-@fig:011]).

![Форматирование в XFS](image/11.png){#fig:011 width=70%}

Устанавливаем метку для XFS раздела (рис. [-@fig:011]).

![Установка метки XFS](image/11.png){#fig:011 width=70%}

Форматируем раздел /dev/sdb5 в EXT4 (рис. [-@fig:012]).

![Форматирование в EXT4](image/12.png){#fig:012 width=70%}

Устанавливаем метку и параметры для EXT4 раздела (рис. [-@fig:012]).

![Настройка EXT4 раздела](image/12.png){#fig:012 width=70%}

## Ручное монтирование файловых систем

Создаем точку монтирования и монтируем раздел (рис. [-@fig:013]).

![Ручное монтирование раздела](image/13.png){#fig:013 width=70%}

Проверяем монтирование и отмонтируем раздел (рис. [-@fig:013]).

![Проверка и отмонтирование](image/13.png){#fig:013 width=70%}

## Монтирование через /etc/fstab

Создаем точку монтирования и настраиваем автоматическое монтирование (рис. [-@fig:014], [-@fig:015]).

![Настройка автоматического монтирования](image/14.png){#fig:014 width=70%}
![Редактирование /etc/fstab](image/15.png){#fig:015 width=70%}

Применяем изменения и проверяем результат (рис. [-@fig:014]).

![Проверка автоматического монтирования](image/14.png){#fig:014 width=70%}

## Самостоятельная работа

Создаем дополнительные разделы на GPT диске (рис. [-@fig:016]).

![Создание дополнительных разделов GPT](image/16.png){#fig:016 width=70%}

Форматируем разделы и настраиваем /etc/fstab (рис. [-@fig:016], [-@fig:017], [-@fig:018]).

![Форматирование разделов](image/16.png){#fig:016 width=70%}
![Обновленный /etc/fstab](image/17.png){#fig:017 width=70%}
![Применение изменений](image/18.png){#fig:018 width=70%}

Проверяем результат самостоятельной работы (рис. [-@fig:019]).

![Проверка результатов](image/19.png){#fig:019 width=70%}

**Результаты:**
- Раздел /mnt/data-ext успешно смонтирован (89 МБ)
- Общий объем swap памяти: 4.0 ГБ (включая новый раздел)

# Выводы

Мы получили навыки создания разделов на диске и файловых систем

# Список литературы{.unnumbered}

::: {#refs}
:::
